{"version":3,"file":"export-modal.element-DtLSTZXh.js","sources":["../../../Client/src/types/export-options.ts","../../../Client/src/services/metrics-export.service.ts","../../../Client/src/components/export-modal.element.ts"],"sourcesContent":["export enum ExportFormat {\r\n  Json = 'json',\r\n  Csv = 'csv',\r\n  Xml = 'xml'\r\n}\r\n\r\nexport enum ExportScope {\r\n  Current = 'current',\r\n  Historical = 'historical',\r\n  Custom = 'custom'\r\n}\r\n\r\nexport interface ExportOptions {\r\n  format: ExportFormat;\r\n  scope: ExportScope;\r\n  startDate?: string; // ISO string\r\n  endDate?: string; // ISO string\r\n  includePerformanceMetrics: boolean;\r\n  includeUmbracoMetrics: boolean;\r\n  includeActiveRequests: boolean;\r\n  timezone: string;\r\n}\r\n\r\nexport interface ExportResult {\r\n  fileName: string;\r\n  contentType: string;\r\n  data: ArrayBuffer;\r\n  sizeBytes: number;\r\n  generatedAt: string;\r\n}\r\n\r\nexport interface ExportProgress {\r\n  status: 'idle' | 'preparing' | 'exporting' | 'downloading' | 'complete' | 'error';\r\n  progress: number; // 0-100\r\n  message?: string;\r\n  error?: string;\r\n}","import { ExportOptions, ExportFormat, ExportScope } from '../types/export-options.js';\r\n\r\nexport class MetricsExportService {\r\n  private readonly API_BASE_URL = '/umbraco/management/api/v1/metrics';\r\n\r\n  constructor(private tokenProvider: () => Promise<string>) {}\r\n\r\n  /**\r\n   * Export metrics with custom options\r\n   */\r\n  async exportMetrics(options: ExportOptions): Promise<void> {\r\n    const token = await this.tokenProvider();\r\n    \r\n    if (!token) {\r\n      throw new Error('No authentication token available');\r\n    }\r\n\r\n    const response = await fetch(`${this.API_BASE_URL}/export`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(options),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      if (response.status === 400) {\r\n        const error = await response.json();\r\n        throw new Error(error.detail || 'Invalid export configuration');\r\n      }\r\n      \r\n      throw new Error(\r\n        `Failed to export metrics: ${response.status} ${response.statusText}`\r\n      );\r\n    }\r\n\r\n    // Trigger file download\r\n    await this.downloadFile(response);\r\n  }\r\n\r\n  /**\r\n   * Export performance metrics only\r\n   */\r\n  async exportPerformanceMetrics(format: ExportFormat = ExportFormat.Json): Promise<void> {\r\n    const token = await this.tokenProvider();\r\n    \r\n    const response = await fetch(\r\n      `${this.API_BASE_URL}/export/performance?format=${format}`,\r\n      {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Failed to export performance metrics: ${response.statusText}`);\r\n    }\r\n\r\n    await this.downloadFile(response);\r\n  }\r\n\r\n  /**\r\n   * Export Umbraco metrics only\r\n   */\r\n  async exportUmbracoMetrics(format: ExportFormat = ExportFormat.Json): Promise<void> {\r\n    const token = await this.tokenProvider();\r\n    \r\n    const response = await fetch(\r\n      `${this.API_BASE_URL}/export/umbraco?format=${format}`,\r\n      {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Failed to export Umbraco metrics: ${response.statusText}`);\r\n    }\r\n\r\n    await this.downloadFile(response);\r\n  }\r\n\r\n  /**\r\n   * Quick export with default options\r\n   */\r\n  async quickExport(\r\n    includePerformance: boolean = true,\r\n    includeUmbraco: boolean = true,\r\n    format: ExportFormat = ExportFormat.Csv\r\n  ): Promise<void> {\r\n    const options: ExportOptions = {\r\n      format,\r\n      scope: ExportScope.Current,\r\n      includePerformanceMetrics: includePerformance,\r\n      includeUmbracoMetrics: includeUmbraco,\r\n      includeActiveRequests: false,\r\n      timezone: 'UTC'\r\n    };\r\n\r\n    await this.exportMetrics(options);\r\n  }\r\n\r\n  /**\r\n   * Download file from response\r\n   */\r\n  private async downloadFile(response: Response): Promise<void> {\r\n    // Get filename from Content-Disposition header or generate one\r\n    const contentDisposition = response.headers.get('Content-Disposition');\r\n    let filename = 'metrics-export';\r\n    \r\n    if (contentDisposition) {\r\n      const filenameMatch = contentDisposition.match(/filename=\"?([^\"]+)\"?/);\r\n      if (filenameMatch && filenameMatch[1]) {\r\n        filename = filenameMatch[1];\r\n      }\r\n    }\r\n\r\n    // Get blob and create download link\r\n    const blob = await response.blob();\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = filename;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    \r\n    // Cleanup\r\n    window.URL.revokeObjectURL(url);\r\n    document.body.removeChild(a);\r\n  }\r\n\r\n  /**\r\n   * Get file size estimate for export\r\n   */\r\n  estimateFileSize(options: ExportOptions): string {\r\n    // Simple estimation based on format and included metrics\r\n    let estimatedSize = 0;\r\n    \r\n    if (options.includePerformanceMetrics) estimatedSize += 5; // ~5KB for performance metrics\r\n    if (options.includeUmbracoMetrics) estimatedSize += 3; // ~3KB for Umbraco metrics\r\n    if (options.includeActiveRequests) estimatedSize += 2; // ~2KB for active requests\r\n    \r\n    // Format multipliers\r\n    switch (options.format) {\r\n      case ExportFormat.Json:\r\n        estimatedSize *= 1.2; // JSON is slightly larger\r\n        break;\r\n      case ExportFormat.Csv:\r\n        estimatedSize *= 0.8; // CSV is more compact\r\n        break;\r\n      case ExportFormat.Xml:\r\n        estimatedSize *= 1.5; // XML has more markup\r\n        break;\r\n    }\r\n    \r\n    if (estimatedSize < 1) {\r\n      return '< 1 KB';\r\n    } else if (estimatedSize < 1024) {\r\n      return `${Math.round(estimatedSize)} KB`;\r\n    } else {\r\n      return `${(estimatedSize / 1024).toFixed(1)} MB`;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get supported formats for display\r\n   */\r\n  getSupportedFormats(): Array<{ value: ExportFormat; label: string; description: string }> {\r\n    return [\r\n      {\r\n        value: ExportFormat.Json,\r\n        label: 'JSON',\r\n        description: 'Structured data format, good for APIs and programming'\r\n      },\r\n      {\r\n        value: ExportFormat.Csv,\r\n        label: 'CSV',\r\n        description: 'Spreadsheet format, good for Excel and data analysis'\r\n      },\r\n      {\r\n        value: ExportFormat.Xml,\r\n        label: 'XML',\r\n        description: 'Markup format, good for legacy systems'\r\n      }\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Get export scope options\r\n   */\r\n  getScopeOptions(): Array<{ value: ExportScope; label: string; description: string }> {\r\n    return [\r\n      {\r\n        value: ExportScope.Current,\r\n        label: 'Current Snapshot',\r\n        description: 'Export current metrics only'\r\n      },\r\n      {\r\n        value: ExportScope.Historical,\r\n        label: 'Historical Data',\r\n        description: 'Export historical metrics (requires storage)'\r\n      },\r\n      {\r\n        value: ExportScope.Custom,\r\n        label: 'Custom Range',\r\n        description: 'Export metrics from specific date range'\r\n      }\r\n    ];\r\n  }\r\n}","import {\r\n  css,\r\n  html,\r\n  customElement,\r\n  state,\r\n} from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbModalElement } from \"@umbraco-cms/backoffice/modal\";\r\nimport { UMB_NOTIFICATION_CONTEXT } from \"@umbraco-cms/backoffice/notification\";\r\nimport { UMB_AUTH_CONTEXT } from \"@umbraco-cms/backoffice/auth\";\r\nimport { MetricsExportService } from \"../services/metrics-export.service.js\";\r\nimport { ExportFormat, ExportScope, ExportOptions } from \"../types/export-options.js\";\r\nimport { UUIModalElement } from \"@umbraco-cms/backoffice/external/uui\";\r\n\r\n@customElement(\"umbmetrics-export-modal\")\r\nexport class UmbMetricsExportModalElement extends UmbModalElement {\r\n  modalContext: any;\r\n\r\n  @state()\r\n  private _isExporting: boolean = false;\r\n\r\n  @state()\r\n  private _exportProgress: number = 0;\r\n\r\n  @state()\r\n  private _exportOptions: ExportOptions = {\r\n    format: ExportFormat.Csv,\r\n    scope: ExportScope.Current,\r\n    includePerformanceMetrics: true,\r\n    includeUmbracoMetrics: true,\r\n    includeActiveRequests: false,\r\n    timezone: 'UTC'\r\n  };\r\n\r\n  @state()\r\n  private _estimatedSize: string = '';\r\n\r\n  #exportService?: MetricsExportService;\r\n  #notificationContext?: typeof UMB_NOTIFICATION_CONTEXT.TYPE;\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.consumeContext(UMB_NOTIFICATION_CONTEXT, (notificationContext) => {\r\n      this.#notificationContext = notificationContext;\r\n    });\r\n\r\n    this.consumeContext(UMB_AUTH_CONTEXT, (authContext) => {\r\n      this.#exportService = new MetricsExportService(async () => {\r\n        const token = await authContext?.getLatestToken();\r\n        if (!token) {\r\n          throw new Error('No authentication token available');\r\n        }\r\n        return token;\r\n      });\r\n    });\r\n\r\n    // Calculate initial estimated size\r\n    this.#updateEstimatedSize();\r\n  }\r\n\r\n  #updateEstimatedSize() {\r\n    if (this.#exportService) {\r\n      this._estimatedSize = this.#exportService.estimateFileSize(this._exportOptions);\r\n    }\r\n  }\r\n\r\n  #handleFormatChange = (e: Event) => {\r\n    const select = e.target as HTMLSelectElement;\r\n    this._exportOptions = {\r\n      ...this._exportOptions,\r\n      format: select.value as ExportFormat\r\n    };\r\n    this.#updateEstimatedSize();\r\n  };\r\n\r\n  #handleScopeChange = (e: Event) => {\r\n    const select = e.target as HTMLSelectElement;\r\n    this._exportOptions = {\r\n      ...this._exportOptions,\r\n      scope: select.value as ExportScope\r\n    };\r\n  };\r\n\r\n  #handleMetricToggle = (metric: keyof ExportOptions) => {\r\n    this._exportOptions = {\r\n      ...this._exportOptions,\r\n      [metric]: !this._exportOptions[metric]\r\n    };\r\n    this.#updateEstimatedSize();\r\n  };\r\n\r\n  #handleDateChange = (dateField: 'startDate' | 'endDate', value: string) => {\r\n    this._exportOptions = {\r\n      ...this._exportOptions,\r\n      [dateField]: value || undefined\r\n    };\r\n  };\r\n\r\n  #handleTimezoneChange = (e: Event) => {\r\n    const select = e.target as HTMLSelectElement;\r\n    this._exportOptions = {\r\n      ...this._exportOptions,\r\n      timezone: select.value\r\n    };\r\n  };\r\n\r\n  #handleExport = async () => {\r\n    if (!this.#exportService || this._isExporting) {\r\n      return;\r\n    }\r\n\r\n    this._isExporting = true;\r\n    this._exportProgress = 10;\r\n\r\n    try {\r\n      // Validate date range if custom scope\r\n      if (this._exportOptions.scope === ExportScope.Custom) {\r\n        if (!this._exportOptions.startDate || !this._exportOptions.endDate) {\r\n          throw new Error('Both start and end dates are required for custom range');\r\n        }\r\n        \r\n        const start = new Date(this._exportOptions.startDate);\r\n        const end = new Date(this._exportOptions.endDate);\r\n        \r\n        if (start > end) {\r\n          throw new Error('Start date must be before end date');\r\n        }\r\n      }\r\n\r\n      this._exportProgress = 30;\r\n      \r\n      await this.#exportService.exportMetrics(this._exportOptions);\r\n      \r\n      this._exportProgress = 100;\r\n      \r\n      if (this.#notificationContext) {\r\n        this.#notificationContext.peek(\"positive\", {\r\n          data: {\r\n            headline: \"Export Complete\",\r\n            message: `Metrics exported successfully (${this._estimatedSize})`,\r\n          },\r\n        });\r\n      }\r\n\r\n      // Close modal after short delay\r\n      setTimeout(() => {\r\n        if (this.modalContext) {\r\n          this.modalContext.submit();\r\n        }\r\n      }, 1000);\r\n\r\n    } catch (error) {\r\n      console.error('Export error:', error);\r\n      \r\n      if (this.#notificationContext) {\r\n        this.#notificationContext.peek(\"danger\", {\r\n          data: {\r\n            headline: \"Export Failed\",\r\n            message: error instanceof Error \r\n              ? error.message \r\n              : \"Failed to export metrics. Please try again.\",\r\n          },\r\n        });\r\n      }\r\n      \r\n      this._isExporting = false;\r\n      this._exportProgress = 0;\r\n    }\r\n  };\r\n\r\n  #handleQuickExport = async (format: ExportFormat) => {\r\n    if (!this.#exportService || this._isExporting) {\r\n      return;\r\n    }\r\n\r\n    this._isExporting = true;\r\n\r\n    try {\r\n      await this.#exportService.quickExport(true, true, format);\r\n      \r\n      if (this.#notificationContext) {\r\n        this.#notificationContext.peek(\"positive\", {\r\n          data: {\r\n            headline: \"Export Complete\",\r\n            message: `Quick export to ${format.toUpperCase()} completed`,\r\n          },\r\n        });\r\n      }\r\n\r\n      // Close modal\r\n      if (this.modalContext) {\r\n        this.modalContext.submit();\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Quick export error:', error);\r\n      \r\n      if (this.#notificationContext) {\r\n        this.#notificationContext.peek(\"danger\", {\r\n          data: {\r\n            headline: \"Export Failed\",\r\n            message: error instanceof Error \r\n              ? error.message \r\n              : \"Failed to export metrics\",\r\n          },\r\n        });\r\n      }\r\n    } finally {\r\n      this._isExporting = false;\r\n    }\r\n  };\r\n\r\n  #handleCancel = () => {\r\n    if (this.modalContext) {\r\n      this.modalContext.reject();\r\n    }\r\n  };\r\n\r\n  #renderQuickExportButtons() {\r\n    return html`\r\n      <div class=\"quick-export-section\">\r\n        <h4>Quick Export</h4>\r\n        <p class=\"description\">Export all metrics with one click</p>\r\n        \r\n        <div class=\"quick-export-buttons\">\r\n          <uui-button \r\n            look=\"primary\" \r\n            color=\"positive\"\r\n            @click=\"${() => this.#handleQuickExport(ExportFormat.Csv)}\"\r\n            ?disabled=\"${this._isExporting}\"\r\n          >\r\n            <uui-icon name=\"icon-download\"></uui-icon>\r\n            Export as CSV\r\n          </uui-button>\r\n          \r\n          <uui-button \r\n            look=\"outline\"\r\n            @click=\"${() => this.#handleQuickExport(ExportFormat.Json)}\"\r\n            ?disabled=\"${this._isExporting}\"\r\n          >\r\n            <uui-icon name=\"icon-download\"></uui-icon>\r\n            Export as JSON\r\n          </uui-button>\r\n        </div>\r\n      </div>\r\n  `;\r\n  }\r\n\r\n  #renderExportOptions() {\r\n    const formatOptions = this.#exportService?.getSupportedFormats() || [];\r\n    const scopeOptions = this.#exportService?.getScopeOptions() || [];\r\n\r\n    return html`\r\n      <div class=\"export-options-section\">\r\n        <h4>Custom Export</h4>\r\n        <p class=\"description\">Configure export options</p>\r\n        \r\n        <div class=\"form-grid\">\r\n          <!-- Format Selection -->\r\n          <div class=\"form-group\">\r\n            <label for=\"export-format\">Format</label>\r\n            <uui-select \r\n              id=\"export-format\"\r\n              .value=\"${this._exportOptions.format}\"\r\n              @change=\"${this.#handleFormatChange}\"\r\n              ?disabled=\"${this._isExporting}\"\r\n            >\r\n              ${formatOptions.map(option => html`\r\n                <uui-option value=\"${option.value}\">\r\n                  ${option.label} - ${option.description}\r\n                </uui-option>\r\n              `)}\r\n            </uui-select>\r\n          </div>\r\n\r\n          <!-- Scope Selection -->\r\n          <div class=\"form-group\">\r\n            <label for=\"export-scope\">Scope</label>\r\n            <uui-select \r\n              id=\"export-scope\"\r\n              .value=\"${this._exportOptions.scope}\"\r\n              @change=\"${this.#handleScopeChange}\"\r\n              ?disabled=\"${this._isExporting}\"\r\n            >\r\n              ${scopeOptions.map(option => html`\r\n                <uui-option value=\"${option.value}\">\r\n                  ${option.label}\r\n                </uui-option>\r\n              `)}\r\n            </uui-select>\r\n          </div>\r\n\r\n          <!-- Date Range (only for custom scope) -->\r\n          ${this._exportOptions.scope === ExportScope.Custom ? html`\r\n            <div class=\"form-group span-2\">\r\n              <label>Date Range</label>\r\n              <div class=\"date-range\">\r\n                <uui-input\r\n                  type=\"date\"\r\n                  label=\"Start Date\"\r\n                  .value=\"${this._exportOptions.startDate || ''}\"\r\n                  @change=\"${(e: Event) => this.#handleDateChange('startDate', (e.target as HTMLInputElement).value)}\"\r\n                  ?disabled=\"${this._isExporting}\"\r\n                ></uui-input>\r\n                \r\n                <span class=\"date-separator\">to</span>\r\n                \r\n                <uui-input\r\n                  type=\"date\"\r\n                  label=\"End Date\"\r\n                  .value=\"${this._exportOptions.endDate || ''}\"\r\n                  @change=\"${(e: Event) => this.#handleDateChange('endDate', (e.target as HTMLInputElement).value)}\"\r\n                  ?disabled=\"${this._isExporting}\"\r\n                ></uui-input>\r\n              </div>\r\n            </div>\r\n          ` : ''}\r\n\r\n          <!-- Timezone -->\r\n          <div class=\"form-group\">\r\n            <label for=\"export-timezone\">Timezone</label>\r\n            <uui-select \r\n              id=\"export-timezone\"\r\n              .value=\"${this._exportOptions.timezone}\"\r\n              @change=\"${this.#handleTimezoneChange}\"\r\n              ?disabled=\"${this._isExporting}\"\r\n            >\r\n              <uui-option value=\"UTC\">UTC</uui-option>\r\n              <uui-option value=\"Local\">Local Time</uui-option>\r\n              <uui-option value=\"Europe/London\">Europe/London</uui-option>\r\n              <uui-option value=\"America/New_York\">America/New_York</uui-option>\r\n              <uui-option value=\"Asia/Tokyo\">Asia/Tokyo</uui-option>\r\n            </uui-select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Metric Selection -->\r\n        <div class=\"metric-selection\">\r\n          <h5>Include Metrics</h5>\r\n          <div class=\"metric-toggles\">\r\n            <uui-toggle \r\n              label=\"Performance Metrics\"\r\n              .checked=\"${this._exportOptions.includePerformanceMetrics}\"\r\n              @change=\"${() => this.#handleMetricToggle('includePerformanceMetrics')}\"\r\n              ?disabled=\"${this._isExporting}\"\r\n            ></uui-toggle>\r\n            \r\n            <uui-toggle \r\n              label=\"Umbraco Metrics\"\r\n              .checked=\"${this._exportOptions.includeUmbracoMetrics}\"\r\n              @change=\"${() => this.#handleMetricToggle('includeUmbracoMetrics')}\"\r\n              ?disabled=\"${this._isExporting}\"\r\n            ></uui-toggle>\r\n            \r\n            <uui-toggle \r\n              label=\"Active Requests\"\r\n              .checked=\"${this._exportOptions.includeActiveRequests}\"\r\n              @change=\"${() => this.#handleMetricToggle('includeActiveRequests')}\"\r\n              ?disabled=\"${this._isExporting}\"\r\n            ></uui-toggle>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Estimated Size -->\r\n        <div class=\"estimated-size\">\r\n          <uui-icon name=\"icon-info\"></uui-icon>\r\n          Estimated file size: <strong>${this._estimatedSize}</strong>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  #renderProgressBar() {\r\n    if (!this._isExporting) return '';\r\n\r\n    return html`\r\n      <div class=\"export-progress\">\r\n        <div class=\"progress-bar\">\r\n          <div class=\"progress-fill\" style=\"width: ${this._exportProgress}%\"></div>\r\n        </div>\r\n        <div class=\"progress-text\">\r\n          Exporting... ${this._exportProgress}%\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      <umb-modal-sidebar>\r\n        <umb-body-layout headline=\"Export Metrics\">\r\n          <div id=\"main\">\r\n            ${this.#renderQuickExportButtons()}\r\n            \r\n            <div class=\"divider\">\r\n              <span>or</span>\r\n            </div>\r\n            \r\n            ${this.#renderExportOptions()}\r\n            \r\n            ${this.#renderProgressBar()}\r\n          </div>\r\n          \r\n          <div slot=\"actions\">\r\n            <uui-button \r\n              look=\"secondary\"\r\n              @click=\"${this.#handleCancel}\"\r\n              ?disabled=\"${this._isExporting}\"\r\n            >\r\n              Cancel\r\n            </uui-button>\r\n            \r\n            <uui-button \r\n              look=\"primary\"\r\n              color=\"positive\"\r\n              @click=\"${this.#handleExport}\"\r\n              ?disabled=\"${this._isExporting || (!this._exportOptions.includePerformanceMetrics && !this._exportOptions.includeUmbracoMetrics)}\"\r\n            >\r\n              ${this._isExporting ? html`\r\n                <uui-icon name=\"icon-time\"></uui-icon>\r\n                Exporting...\r\n              ` : html`\r\n                <uui-icon name=\"icon-download\"></uui-icon>\r\n                Export Metrics\r\n              `}\r\n            </uui-button>\r\n          </div>\r\n        </umb-body-layout>\r\n      </umb-modal-sidebar>\r\n    `;\r\n  }\r\n\r\n  static styles = [...UUIModalElement.styles, css`\r\n   \r\n\r\n    #main {\r\n      padding: var(--uui-size-space-5);\r\n    }\r\n\r\n    .quick-export-section,\r\n    .export-options-section {\r\n      margin-bottom: var(--uui-size-space-5);\r\n    }\r\n\r\n    h4 {\r\n      margin: 0 0 var(--uui-size-space-2) 0;\r\n      font-size: 1.25rem;\r\n      font-weight: 600;\r\n      color: var(--uui-color-text);\r\n    }\r\n\r\n    h5 {\r\n      margin: var(--uui-size-space-4) 0 var(--uui-size-space-2) 0;\r\n      font-size: 1rem;\r\n      font-weight: 600;\r\n      color: var(--uui-color-text-alt);\r\n    }\r\n\r\n    .description {\r\n      margin: 0 0 var(--uui-size-space-4) 0;\r\n      color: var(--uui-color-text-alt);\r\n      font-size: 0.875rem;\r\n    }\r\n\r\n    .quick-export-buttons {\r\n      display: flex;\r\n      gap: var(--uui-size-space-3);\r\n      flex-wrap: wrap;\r\n    }\r\n\r\n    .divider {\r\n      display: flex;\r\n      align-items: center;\r\n      margin: var(--uui-size-space-5) 0;\r\n      text-align: center;\r\n      color: var(--uui-color-text-alt);\r\n    }\r\n\r\n    .divider::before,\r\n    .divider::after {\r\n      content: '';\r\n      flex: 1;\r\n      height: 1px;\r\n      background: var(--uui-color-border);\r\n    }\r\n\r\n    .divider span {\r\n      padding: 0 var(--uui-size-space-3);\r\n      font-size: 0.875rem;\r\n    }\r\n\r\n    .form-grid {\r\n      display: grid;\r\n      grid-template-columns: 1fr 1fr;\r\n      gap: var(--uui-size-space-4);\r\n      margin-bottom: var(--uui-size-space-4);\r\n    }\r\n\r\n    .form-group.span-2 {\r\n      grid-column: span 2;\r\n    }\r\n\r\n    .form-group label {\r\n      display: block;\r\n      margin-bottom: var(--uui-size-space-1);\r\n      font-size: 0.875rem;\r\n      font-weight: 600;\r\n      color: var(--uui-color-text-alt);\r\n    }\r\n\r\n    .date-range {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: var(--uui-size-space-3);\r\n    }\r\n\r\n    .date-separator {\r\n      color: var(--uui-color-text-alt);\r\n      font-size: 0.875rem;\r\n    }\r\n\r\n    .metric-selection {\r\n      background: var(--uui-color-surface-alt);\r\n      border-radius: var(--uui-border-radius);\r\n      padding: var(--uui-size-space-4);\r\n      margin-bottom: var(--uui-size-space-4);\r\n    }\r\n\r\n    .metric-toggles {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: var(--uui-size-space-3);\r\n    }\r\n\r\n    .estimated-size {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: var(--uui-size-space-2);\r\n      padding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n      background: var(--uui-color-surface-alt);\r\n      border-radius: var(--uui-border-radius);\r\n      font-size: 0.875rem;\r\n      color: var(--uui-color-text-alt);\r\n    }\r\n\r\n    .estimated-size uui-icon {\r\n      color: var(--uui-color-interactive);\r\n    }\r\n\r\n    .estimated-size strong {\r\n      color: var(--uui-color-text);\r\n    }\r\n\r\n    .export-progress {\r\n      margin-top: var(--uui-size-space-5);\r\n      padding: var(--uui-size-space-4);\r\n      background: var(--uui-color-surface-alt);\r\n      border-radius: var(--uui-border-radius);\r\n    }\r\n\r\n    .progress-bar {\r\n      height: 8px;\r\n      background: var(--uui-color-border);\r\n      border-radius: 4px;\r\n      overflow: hidden;\r\n      margin-bottom: var(--uui-size-space-2);\r\n    }\r\n\r\n    .progress-fill {\r\n      height: 100%;\r\n      background: var(--uui-color-positive);\r\n      border-radius: 4px;\r\n      transition: width 0.3s ease;\r\n    }\r\n\r\n    .progress-text {\r\n      text-align: center;\r\n      font-size: 0.875rem;\r\n      color: var(--uui-color-text-alt);\r\n    }\r\n\r\n    @media (max-width: 600px) {\r\n      :host {\r\n        min-width: auto;\r\n        max-width: 100%;\r\n      }\r\n\r\n      .form-grid {\r\n        grid-template-columns: 1fr;\r\n      }\r\n\r\n      .form-group.span-2 {\r\n        grid-column: span 1;\r\n      }\r\n\r\n      .date-range {\r\n        flex-direction: column;\r\n        align-items: stretch;\r\n      }\r\n\r\n      .date-separator {\r\n        text-align: center;\r\n      }\r\n\r\n      .quick-export-buttons {\r\n        flex-direction: column;\r\n      }\r\n    }\r\n  `];\r\n}\r\n\r\nexport default UmbMetricsExportModalElement;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"umbmetrics-export-modal\": UmbMetricsExportModalElement;\r\n  }\r\n}\r\n"],"names":["ExportFormat","ExportScope","MetricsExportService","tokenProvider","options","token","response","error","format","includePerformance","includeUmbraco","contentDisposition","filename","filenameMatch","blob","url","a","estimatedSize","_exportService","_notificationContext","_UmbMetricsExportModalElement_instances","updateEstimatedSize_fn","_handleFormatChange","_handleScopeChange","_handleMetricToggle","_handleDateChange","_handleTimezoneChange","_handleExport","_handleQuickExport","_handleCancel","renderQuickExportButtons_fn","renderExportOptions_fn","renderProgressBar_fn","UmbMetricsExportModalElement","UmbModalElement","__privateAdd","select","__privateMethod","metric","dateField","value","__privateGet","start","end","UMB_NOTIFICATION_CONTEXT","notificationContext","__privateSet","UMB_AUTH_CONTEXT","authContext","html","formatOptions","scopeOptions","option","e","UUIModalElement","css","__decorateClass","state","customElement","UmbMetricsExportModalElement_default"],"mappings":"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"}