{"version":3,"file":"dashboard.element-Q6RR2D3e.js","sources":["../../../Client/src/utils/format-utils.ts","../../../Client/src/components/app-info-banner.element.ts","../../../Client/src/components/metric-card.element.ts","../../../Client/src/components/metrics-grid.element.ts","../../../Client/src/components/stat-card.element.ts","../../../Client/src/dashboards/dashboard.element.ts"],"sourcesContent":["import type { MetricCardColor } from \"../components/metric-card.element.js\";\r\n\r\n/**\r\n * Returns a color based on value relative to threshold\r\n * @param value - The current value\r\n * @param threshold - The threshold for danger state\r\n * @returns 'danger' if > threshold, 'warning' if > 70% of threshold, otherwise 'positive'\r\n */\r\nexport function getStatusColor(value: number, threshold: number): MetricCardColor {\r\n  return value > threshold\r\n    ? \"danger\"\r\n    : value > threshold * 0.7\r\n    ? \"warning\"\r\n    : \"positive\";\r\n}\r\n\r\n/**\r\n * Formats a number with locale-specific separators\r\n * @param num - The number to format\r\n * @returns Formatted string with separators (e.g., \"1,234,567\")\r\n */\r\nexport function formatNumber(num: number): string {\r\n  return num.toLocaleString();\r\n}\r\n\r\n/**\r\n * Formats bytes to human-readable string\r\n * @param bytes - Number of bytes\r\n * @returns Formatted string (e.g., \"1.5 MB\")\r\n */\r\nexport function formatBytes(bytes: number): string {\r\n  if (bytes < 1024) return `${bytes} B`;\r\n  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(2)} KB`;\r\n  if (bytes < 1024 * 1024 * 1024) return `${(bytes / 1024 / 1024).toFixed(2)} MB`;\r\n  return `${(bytes / 1024 / 1024 / 1024).toFixed(2)} GB`;\r\n}\r\n\r\n/**\r\n * Formats uptime seconds to human-readable string\r\n * @param seconds - Total seconds\r\n * @returns Formatted string (e.g., \"2d 5h 30m 15s\")\r\n */\r\nexport function formatUptime(seconds: number): string {\r\n  const days = Math.floor(seconds / 86400);\r\n  const hours = Math.floor((seconds % 86400) / 3600);\r\n  const minutes = Math.floor((seconds % 3600) / 60);\r\n  const secs = Math.floor(seconds % 60);\r\n  return `${days}d ${hours}h ${minutes}m ${secs}s`;\r\n}","import {\r\n  LitElement,\r\n  css,\r\n  html,\r\n  customElement,\r\n  property,\r\n  unsafeCSS,\r\n} from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\r\nimport type { ApplicationInfo } from \"../types/performance-metrics.js\";\r\nimport { formatUptime } from \"../utils/format-utils.js\";\r\nimport styles from \"../css/app-info-banner.styles.css?inline\";\r\n\r\n@customElement(\"umbmetrics-app-info-banner\")\r\nexport class AppInfoBannerElement extends UmbElementMixin(LitElement) {\r\n  @property({ type: Object })\r\n  applicationInfo?: ApplicationInfo;\r\n\r\n  @property({ type: Boolean })\r\n  isConnected: boolean = false;\r\n\r\n  render() {\r\n    if (!this.applicationInfo) {\r\n      return html``;\r\n    }\r\n\r\n    return html`\r\n      <div class=\"app-info-banner\">\r\n        <div class=\"info-item\">\r\n          <strong>${this.localize?.term('appInfo_process') || 'Process'}:</strong> ${this.applicationInfo.processName} (PID: ${this.applicationInfo.processId})\r\n        </div>\r\n        <div class=\"info-item\">\r\n          <strong>${this.localize?.term('appInfo_runtime') || 'Runtime'}:</strong> ${this.applicationInfo.runtimeVersion}\r\n        </div>\r\n        <div class=\"info-item\">\r\n          <strong>${this.localize?.term('appInfo_architecture') || 'Architecture'}:</strong> ${this.applicationInfo.is64BitProcess ? this.localize?.term('appInfo_64bit') || '64-bit' : this.localize?.term('appInfo_32bit') || '32-bit'}\r\n        </div>\r\n        <div class=\"info-item\">\r\n          <strong>${this.localize?.term('appInfo_cpuCores') || 'CPU Cores'}:</strong> ${this.applicationInfo.processorCount}\r\n        </div>\r\n        <div class=\"info-item\">\r\n          <strong>${this.localize?.term('appInfo_uptime') || 'Uptime'}:</strong> ${formatUptime(this.applicationInfo.uptimeSeconds)}\r\n        </div>\r\n        ${this.isConnected ? html`\r\n          <div class=\"info-item connected\">\r\n            <uui-icon name=\"icon-check\"></uui-icon>\r\n            <strong>${this.localize?.term('appInfo_signalRConnected') || 'SignalR Connected'}</strong>\r\n          </div>\r\n        ` : ''}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  static styles = css`${unsafeCSS(styles)}`;\r\n}\r\n\r\nexport default AppInfoBannerElement;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"umbmetrics-app-info-banner\": AppInfoBannerElement;\r\n  }\r\n}","import {\r\n  LitElement,\r\n  css,\r\n  unsafeCSS,\r\n  html,\r\n  customElement,\r\n  property,\r\n} from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\r\nimport stylesString from '../css/metric-card.styles.css?inline';\r\n\r\nexport type MetricCardColor = 'default' | 'positive' | 'warning' | 'danger';\r\n\r\n@customElement(\"umbmetrics-metric-card\")\r\nexport class MetricCardElement extends UmbElementMixin(LitElement) {\r\n  @property({ type: String })\r\n  icon: string = \"icon-info\";\r\n\r\n  @property({ type: String })\r\n  title: string = \"\";\r\n\r\n  @property({ type: String })\r\n  value: string = \"\";\r\n\r\n  @property({ type: String })\r\n  detail: string = \"\";\r\n\r\n  @property({ type: String })\r\n  color: MetricCardColor = \"default\";\r\n\r\n  @property({ type: Number, reflect: true })\r\n  span: number = 1;\r\n\r\n  @property({ type: Boolean })\r\n  clickable: boolean = false;\r\n\r\n  @property({ type: String })\r\n  actionIcon: string = \"icon-activity\";\r\n\r\n  @property({ type: String })\r\n  actionLabel: string = \"View Details\";\r\n\r\n  #handleClick = (e: Event) => {\r\n    e.stopPropagation();\r\n    if (this.clickable) {\r\n      this.dispatchEvent(new CustomEvent('card-action', { bubbles: true, composed: true }));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return html`\r\n      <div class=\"metric-card\">\r\n        <div class=\"card-header\">\r\n          <div class=\"header-title\">\r\n            <uui-icon name=\"${this.icon}\"></uui-icon>\r\n            <h3>${this.title}</h3>\r\n          </div>\r\n          ${this.clickable ? html`\r\n            <uui-button \r\n              class=\"action-button\"\r\n              look=\"secondary\" \r\n              compact \r\n              @click=\"${this.#handleClick}\"\r\n              title=\"${this.actionLabel}\"\r\n            >\r\n              <uui-icon name=\"${this.actionIcon}\"></uui-icon>\r\n            </uui-button>\r\n          ` : ''}\r\n        </div>\r\n        \r\n        <div class=\"card-body\">\r\n          <div class=\"metric-value ${this.color}\">\r\n            ${this.value}\r\n          </div>\r\n          ${this.detail ? html`<div class=\"metric-detail\">${this.detail}</div>` : ''}\r\n          <slot></slot>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  static styles = css`${unsafeCSS(stylesString)}`;\r\n}\r\n\r\nexport default MetricCardElement;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"umbmetrics-metric-card\": MetricCardElement;\r\n  }\r\n}","import {\r\n  LitElement,\r\n  css,\r\n  unsafeCSS,\r\n  html,\r\n  customElement,\r\n  property,\r\n} from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\r\nimport stylesString from '../css/metrics-grid.styles.css?inline';\r\n\r\n@customElement(\"umbmetrics-metrics-grid\")\r\nexport class MetricsGridElement extends UmbElementMixin(LitElement) {\r\n  @property({ type: Number })\r\n  columns: number = 4;\r\n\r\n  render() {\r\n    return html`\r\n      <div class=\"metrics-grid\" style=\"--grid-columns: ${this.columns}\">\r\n        <slot></slot>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  static styles = css`${unsafeCSS(stylesString)}`;\r\n}\r\n\r\nexport default MetricsGridElement;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"umbmetrics-metrics-grid\": MetricsGridElement;\r\n  }\r\n}","import {\r\n  LitElement,\r\n  css,\r\n  unsafeCSS,\r\n  html,\r\n  customElement,\r\n  property,\r\n} from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\r\nimport stylesString from '../css/stat-card.styles.css?inline';\r\n\r\nexport interface StatRow {\r\n  label: string;\r\n  value: string | number;\r\n  color?: 'default' | 'positive' | 'warning' | 'danger';\r\n}\r\n\r\n@customElement(\"umbmetrics-stat-card\")\r\nexport class StatCardElement extends UmbElementMixin(LitElement) {\r\n  @property({ type: String })\r\n  icon: string = \"icon-info\";\r\n\r\n  @property({ type: String })\r\n  title: string = \"\";\r\n\r\n  @property({ type: Array })\r\n  stats: StatRow[] = [];\r\n\r\n  @property({ type: Number, reflect: true })\r\n  span: number = 1;\r\n\r\n  render() {\r\n    return html`\r\n      <div class=\"stat-card\">\r\n        <div class=\"card-header\">\r\n          <div class=\"header-title\">\r\n            <uui-icon name=\"${this.icon}\"></uui-icon>\r\n            <h3>${this.title}</h3>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"card-body\">\r\n          <div class=\"stats-list\">\r\n            ${this.stats.map(stat => html`\r\n              <div class=\"stat-row\">\r\n                <span class=\"stat-label\">${stat.label}</span>\r\n                <strong class=\"${stat.color || 'default'}\">${stat.value}</strong>\r\n              </div>\r\n            `)}\r\n          </div>\r\n          <slot></slot>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  static styles = css`${unsafeCSS(stylesString)}`;\r\n}\r\n\r\nexport default StatCardElement;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"umbmetrics-stat-card\": StatCardElement;\r\n  }\r\n}","import {\r\n  LitElement,\r\n  css,\r\n  unsafeCSS,\r\n  html,\r\n  customElement,\r\n  state,\r\n} from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\r\nimport { UUIButtonElement } from \"@umbraco-cms/backoffice/external/uui\";\r\nimport { UMB_NOTIFICATION_CONTEXT } from \"@umbraco-cms/backoffice/notification\";\r\nimport { UMB_CURRENT_USER_CONTEXT, UmbCurrentUserModel } from \"@umbraco-cms/backoffice/current-user\";\r\nimport { UMB_AUTH_CONTEXT } from \"@umbraco-cms/backoffice/auth\";\r\nimport type { UmbAuthContext } from \"@umbraco-cms/backoffice/auth\";\r\n\r\nimport { MetricsPerformanceService } from \"../services/metrics-performance.service.js\";\r\nimport type { PerformanceMetrics } from \"../types/performance-metrics.js\";\r\nimport type { UmbracoMetrics } from \"../types/umbraco-metrics.js\";\r\n\r\nimport type { StatRow } from \"../components/stat-card.element.js\";\r\nimport { getStatusColor, formatNumber } from \"../utils/format-utils.js\";\r\nimport \"../components/app-info-banner.element.js\";\r\nimport \"../components/metric-card.element.js\";\r\nimport \"../components/metrics-grid.element.js\";\r\nimport \"../components/stat-card.element.js\";\r\nimport \"../components/active-requests-sidebar.element.js\";\r\nimport \"../components/export-modal.element.js\";\r\nimport stylesString from '../css/dashboard.element.css?inline';\r\nimport { UMB_MODAL_MANAGER_CONTEXT } from \"@umbraco-cms/backoffice/modal\";\r\nimport { ACTIVE_REQUESTS_SIDEBAR_MODAL } from \"../components/active-requests-sidebar.modal.js\";\r\nimport { UMB_METRICS_EXPORT_MODAL } from \"../components/export-modal.token.js\";\r\n\r\n@customElement(\"umbmetrics-dashboard\")\r\nexport class UmbMetrcisDashboardElement extends UmbElementMixin(LitElement) {\r\n  @state()\r\n  private _contextCurrentUser?: UmbCurrentUserModel;\r\n\r\n  @state()\r\n  private _performanceMetrics?: PerformanceMetrics;\r\n\r\n  @state()\r\n  private _autoRefresh: boolean = false;\r\n\r\n  @state()\r\n  private _activeTab: string = \"overview\";\r\n\r\n  @state()\r\n  private _isConnected: boolean = false;\r\n\r\n  @state()\r\n  private _umbracoMetrics?: UmbracoMetrics;\r\n\r\n\r\n\r\n  #notificationContext?: typeof UMB_NOTIFICATION_CONTEXT.TYPE;\r\n  #authContext?: UmbAuthContext;\r\n  #metricsService?: MetricsPerformanceService;\r\n  #unsubscribe?: () => void;\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.consumeContext(UMB_NOTIFICATION_CONTEXT, (notificationContext) => {\r\n      this.#notificationContext = notificationContext;\r\n    });\r\n\r\n    this.consumeContext(UMB_CURRENT_USER_CONTEXT, (currentUserContext) => {\r\n      this.observe(\r\n        currentUserContext?.currentUser,\r\n        (currentUser) => {\r\n          this._contextCurrentUser = currentUser;\r\n        },\r\n        \"_contextCurrentUser\"\r\n      );\r\n    });\r\n\r\n    this.consumeContext(UMB_AUTH_CONTEXT, (authContext) => {\r\n      this.#authContext = authContext;\r\n      \r\n      this.#metricsService = new MetricsPerformanceService(async () => {\r\n        const token = await this.#authContext?.getLatestToken();\r\n        if (!token) {\r\n          throw new Error('No authentication token available');\r\n        }\r\n        return token;\r\n      });\r\n    });\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n    this.#stopAutoRefresh();\r\n  }\r\n\r\n  #onClickRefreshMetrics = async (ev: Event) => {\r\n    if (!this.#metricsService) {\r\n      console.error('Metrics service not initialized');\r\n      return;\r\n    }\r\n\r\n    const buttonElement = ev.target as UUIButtonElement;\r\n    buttonElement.state = \"waiting\";\r\n\r\n    try {\r\n      if (this._autoRefresh && this.#metricsService.isConnected) {\r\n        await this.#metricsService.requestMetrics();\r\n        this.#loadUmbracoMetrics();\r\n      } else {\r\n        await Promise.all([\r\n          this.#loadPerformanceMetrics(),\r\n          this.#loadUmbracoMetrics()\r\n        ]);\r\n      }\r\n      buttonElement.state = \"success\";\r\n    } catch (error) {\r\n      console.error('Error refreshing metrics:', error);\r\n      buttonElement.state = \"failed\";\r\n    }\r\n  };\r\n\r\n  #loadPerformanceMetrics = async () => {\r\n    if (!this.#metricsService) {\r\n      console.error('Metrics service not initialized');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      this._performanceMetrics = await this.#metricsService.getPerformanceMetrics();\r\n    } catch (error) {\r\n      console.error(\"Error loading performance metrics:\", error);\r\n      if (this.#notificationContext) {\r\n        this.#notificationContext.peek(\"danger\", {\r\n          data: {\r\n            headline: \"Error\",\r\n            message: error instanceof Error \r\n              ? error.message \r\n              : \"Failed to load performance metrics\",\r\n          },\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  async #loadUmbracoMetrics() {\r\n    if (!this.#metricsService) {\r\n      console.error('Metrics service not initialized');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      this._umbracoMetrics = await this.#metricsService.getUmbracoMetrics();\r\n    } catch (error) {\r\n      console.error(\"Error loading Umbraco metrics:\", error);\r\n      if (this.#notificationContext) {\r\n        this.#notificationContext.peek(\"danger\", {\r\n          data: {\r\n            headline: \"Error\",\r\n            message: error instanceof Error \r\n              ? error.message \r\n              : \"Failed to load Umbraco metrics\",\r\n          },\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  \r\n\r\n\r\n  #openActiveRequestsSidebar = async () => {\r\n    const modalManager = await this.getContext(UMB_MODAL_MANAGER_CONTEXT);\r\n    \r\n    modalManager?.open(\r\n      this, \r\n      ACTIVE_REQUESTS_SIDEBAR_MODAL   \r\n    );\r\n  }\r\n\r\n  #openExportModal = async () => {\r\n    const modalManager = await this.getContext(UMB_MODAL_MANAGER_CONTEXT);\r\n    \r\n    modalManager?.open(\r\n      this, \r\n      UMB_METRICS_EXPORT_MODAL   \r\n    );\r\n  }\r\n \r\n\r\n  #toggleAutoRefresh = async () => {\r\n    this._autoRefresh = !this._autoRefresh;\r\n\r\n    if (this._autoRefresh) {\r\n      await this.#startAutoRefresh();\r\n    } else {\r\n      await this.#stopAutoRefresh();\r\n    }\r\n  };\r\n\r\n  #startAutoRefresh = async () => {\r\n    if (!this.#metricsService) {\r\n      console.error('Metrics service not initialized');\r\n      this._autoRefresh = false;\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (this.#notificationContext) {\r\n        this.#notificationContext.peek(\"default\", {\r\n          data: {\r\n            headline: \"Connecting...\",\r\n            message: \"Establishing connection to metrics hub\",\r\n          },\r\n        });\r\n      }\r\n\r\n      this.#unsubscribe = this.#metricsService.onMetricsUpdate((metrics) => {\r\n        this._performanceMetrics = metrics;\r\n        this._isConnected = true;\r\n      });\r\n\r\n      await this.#metricsService.connectToHub();\r\n      this._isConnected = this.#metricsService.isConnected;\r\n\r\n      if (this._isConnected && this.#notificationContext) {\r\n        this.#notificationContext.peek(\"positive\", {\r\n          data: {\r\n            headline: \"Connected\",\r\n            message: \"Real-time metrics updates enabled\",\r\n          },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error starting auto-refresh:\", error);\r\n      this._autoRefresh = false;\r\n      this._isConnected = false;\r\n\r\n      if (this.#notificationContext) {\r\n        this.#notificationContext.peek(\"danger\", {\r\n          data: {\r\n            headline: \"Connection Failed\",\r\n            message: error instanceof Error \r\n              ? error.message \r\n              : \"Failed to connect to metrics hub. Try again.\",\r\n          },\r\n        });\r\n      }\r\n\r\n      if (this.#unsubscribe) {\r\n        this.#unsubscribe();\r\n        this.#unsubscribe = undefined;\r\n      }\r\n    }\r\n  };\r\n\r\n  #stopAutoRefresh = async () => {\r\n    if (!this.#metricsService) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (this.#unsubscribe) {\r\n        this.#unsubscribe();\r\n        this.#unsubscribe = undefined;\r\n      }\r\n\r\n      await this.#metricsService.disconnectFromHub();\r\n      this._isConnected = false;\r\n\r\n      if (this.#notificationContext) {\r\n        this.#notificationContext.peek(\"default\", {\r\n          data: {\r\n            headline: \"Disconnected\",\r\n            message: \"Real-time updates disabled\",\r\n          },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error stopping auto-refresh:\", error);\r\n    }\r\n  };\r\n\r\n  #switchTab = (tabName: string) => {\r\n    this._activeTab = tabName;\r\n  };\r\n\r\n  #renderOverviewTab() {\r\n    if (!this._performanceMetrics) {\r\n      return html`<p>${this.localize?.term('dashboard_clickToLoadPerformance') || 'Click \"Refresh Metrics\" to load application performance data'}</p>`;\r\n    }\r\n\r\n    const m = this._performanceMetrics;\r\n\r\n    return html`\r\n      <umbmetrics-app-info-banner\r\n        .applicationInfo=${m.applicationInfo}\r\n        .isConnected=${this._isConnected}\r\n      ></umbmetrics-app-info-banner>\r\n\r\n      <umbmetrics-metrics-grid columns=\"4\">\r\n        <umbmetrics-metric-card\r\n          icon=\"icon-dashboard\"\r\n          title=\"${this.localize?.term('metrics_cpuUsage') || 'CPU Usage'}\"\r\n          value=\"${m.cpuUsage.toFixed(1)}%\"\r\n          detail=\"Process CPU\"\r\n          color=\"${getStatusColor(m.cpuUsage, 80)}\"\r\n        ></umbmetrics-metric-card>\r\n\r\n        <umbmetrics-metric-card\r\n          icon=\"icon-memory\"\r\n          title=\"${this.localize?.term('metrics_memoryUsage') || 'Memory Usage'}\"\r\n          value=\"${m.memoryUsage.workingSetMB.toFixed(0)} MB\"\r\n          detail=\"Private: ${m.memoryUsage.privateMemoryMB.toFixed(0)} MB\"\r\n        ></umbmetrics-metric-card>\r\n\r\n        <umbmetrics-metric-card\r\n          icon=\"icon-activity\"\r\n          title=\"Requests/Sec\"\r\n          value=\"${m.requestMetrics.requestsPerSecond.toFixed(2)}\"\r\n          detail=\"Last min: ${m.requestMetrics.lastMinuteRequests}\"\r\n        ></umbmetrics-metric-card>\r\n\r\n        <umbmetrics-metric-card\r\n          icon=\"icon-timer\"\r\n          title=\"Avg Response\"\r\n          value=\"${m.requestMetrics.averageResponseTimeMs.toFixed(0)} ms\"\r\n          detail=\"Last 100 requests\"\r\n          color=\"${getStatusColor(m.requestMetrics.averageResponseTimeMs, 1000)}\"\r\n        ></umbmetrics-metric-card>\r\n\r\n        <umbmetrics-metric-card\r\n          icon=\"icon-link\"\r\n          title=\"${this.localize?.term('metrics_activeRequests') || 'Active Requests'}\"\r\n          value=\"${m.requestMetrics.activeRequests}\"\r\n          detail=\"Total: ${formatNumber(m.requestMetrics.totalRequests)}\"\r\n          ?clickable=${true}\r\n          actionLabel=\"View Details\"\r\n          @card-action=\"${this.#openActiveRequestsSidebar}\"\r\n        ></umbmetrics-metric-card>\r\n\r\n        <umbmetrics-metric-card\r\n          icon=\"icon-alert\"\r\n          title=\"Failed Requests\"\r\n          value=\"${formatNumber(m.requestMetrics.failedRequests)}\"\r\n          detail=\"4xx/5xx responses\"\r\n          color=\"${m.requestMetrics.failedRequests > 0 ? 'danger' : 'positive'}\"\r\n        ></umbmetrics-metric-card>\r\n\r\n        <umbmetrics-metric-card\r\n          icon=\"icon-nodes\"\r\n          title=\"${this.localize?.term('metrics_threadCount') || 'Thread Count'}\"\r\n          value=\"${m.threadInfo.threadCount}\"\r\n          detail=\"Pool: ${m.threadInfo.threadPoolThreadCount}\"\r\n        ></umbmetrics-metric-card>\r\n\r\n        <umbmetrics-metric-card\r\n          icon=\"icon-list\"\r\n          title=\"Work Items\"\r\n          value=\"${m.threadInfo.pendingWorkItemCount}\"\r\n          detail=\"Completed: ${formatNumber(m.threadInfo.completedWorkItemCount)}\"\r\n        ></umbmetrics-metric-card>\r\n\r\n        <umbmetrics-metric-card\r\n          span=\"4\"\r\n          icon=\"icon-calendar\"\r\n          title=\"${this.localize?.term('dashboard_lastUpdated') || 'Last updated'}\"\r\n          value=\"${new Date(m.timestamp).toLocaleString()}\"\r\n        ></umbmetrics-metric-card>\r\n      </umbmetrics-metrics-grid>\r\n    `;\r\n  }\r\n\r\n  #renderHeapTab() {\r\n    if (!this._performanceMetrics) {\r\n      return html`<p>${this.localize?.term('dashboard_clickToLoadHeap') || 'Click \"Refresh Metrics\" to load heap information'}</p>`;\r\n    }\r\n\r\n    const m = this._performanceMetrics;\r\n\r\n    const heapStats: StatRow[] = [\r\n      { label: 'Gen 0', value: `${m.memoryUsage.gcGen0HeapSizeMB.toFixed(2)} MB` },\r\n      { label: 'Gen 1', value: `${m.memoryUsage.gcGen1HeapSizeMB.toFixed(2)} MB` },\r\n      { label: 'Gen 2', value: `${m.memoryUsage.gcGen2HeapSizeMB.toFixed(2)} MB` },\r\n    ];\r\n\r\n    const collectionStats: StatRow[] = [\r\n      { label: 'Gen 0', value: formatNumber(m.garbageCollectionStats.gen0Collections) },\r\n      { label: 'Gen 1', value: formatNumber(m.garbageCollectionStats.gen1Collections) },\r\n      { label: 'Gen 2', value: formatNumber(m.garbageCollectionStats.gen2Collections) },\r\n    ];\r\n\r\n    const gcDetails: StatRow[] = [\r\n      { label: 'GC Mode', value: m.garbageCollectionStats.isServerGC ? \"Server\" : \"Workstation\" },\r\n      { label: 'Total Heap Size', value: `${m.memoryUsage.totalHeapSizeMB.toFixed(2)} MB` },\r\n      { label: 'Fragmented Memory', value: `${m.memoryUsage.fragmentedMemoryMB.toFixed(2)} MB` },\r\n      { label: 'Memory Load', value: `${m.garbageCollectionStats.memoryLoadMB.toFixed(2)} MB` },\r\n      { label: 'High Memory Threshold', value: `${m.garbageCollectionStats.highMemoryLoadThresholdMB.toFixed(2)} MB` },\r\n      { label: 'Latency Mode', value: m.garbageCollectionStats.gcLatencyMode },\r\n      { label: 'Total Pause Time', value: `${m.garbageCollectionStats.totalPauseTimeMs.toFixed(2)} ms` },\r\n    ];\r\n\r\n    return html`\r\n      <umbmetrics-metrics-grid columns=\"4\">\r\n        <umbmetrics-stat-card\r\n          span=\"2\"\r\n          icon=\"icon-box\"\r\n          title=\"GC Heap Sizes\"\r\n          .stats=${heapStats}\r\n        ></umbmetrics-stat-card>\r\n\r\n        <umbmetrics-stat-card\r\n          span=\"2\"\r\n          icon=\"icon-trash\"\r\n          title=\"GC Collections\"\r\n          .stats=${collectionStats}\r\n        ></umbmetrics-stat-card>\r\n\r\n        <umbmetrics-stat-card\r\n          span=\"4\"\r\n          icon=\"icon-chart\"\r\n          title=\"Garbage Collector Details\"\r\n          .stats=${gcDetails}\r\n        ></umbmetrics-stat-card>\r\n      </umbmetrics-metrics-grid>\r\n    `;\r\n  }\r\n\r\n  #renderUmbracoTab() {\r\n    if (!this._umbracoMetrics) {\r\n      return html`<p>${this.localize?.term('dashboard_clickToLoadUmbraco') || 'Click \"Refresh Metrics\" to load Umbraco-specific data'}</p>`;\r\n    }\r\n\r\n    const m = this._umbracoMetrics;\r\n\r\n    const contentStats: StatRow[] = [\r\n      { label: 'Total Nodes', value: formatNumber(m.contentStatistics.totalContentNodes) },\r\n      { label: 'Published', value: formatNumber(m.contentStatistics.publishedNodes), color: 'positive' },\r\n      { label: 'Unpublished', value: formatNumber(m.contentStatistics.unpublishedNodes), color: 'warning' },\r\n      { label: 'Trashed', value: formatNumber(m.contentStatistics.trashedNodes), color: m.contentStatistics.trashedNodes > 0 ? 'danger' : 'positive' },\r\n      { label: 'Content Types', value: m.contentStatistics.contentTypeCount },\r\n    ];\r\n\r\n    const mediaStats: StatRow[] = [\r\n      { label: 'Total Items', value: formatNumber(m.mediaStatistics.totalMediaItems) },\r\n      { label: 'Total Size', value: `${m.mediaStatistics.totalMediaSizeMB.toFixed(2)} MB` },\r\n      { label: 'Images', value: formatNumber(m.mediaStatistics.imagesCount) },\r\n      { label: 'Documents', value: formatNumber(m.mediaStatistics.documentsCount) },\r\n      { label: 'Media Types', value: m.mediaStatistics.mediaTypeCount },\r\n    ];\r\n\r\n    const cacheStats: StatRow[] = [\r\n      { label: 'Runtime Cache', value: `${formatNumber(m.cacheStatistics.runtimeCacheCount)} items` },\r\n      { label: 'NuCache', value: `${formatNumber(m.cacheStatistics.nuCacheCount)} items` },\r\n      { label: 'Total Size', value: m.cacheStatistics.totalCacheSize },\r\n    ];\r\n\r\n    const userStats: StatRow[] = [\r\n      { label: 'Total Users', value: formatNumber(m.backofficeUsers.totalUsers) },\r\n      { label: 'Active Users', value: formatNumber(m.backofficeUsers.activeUsers), color: 'positive' },\r\n      { label: 'Administrators', value: formatNumber(m.backofficeUsers.adminUsers) },\r\n      { label: 'Current Sessions', value: formatNumber(m.backofficeUsers.currentSessions), color: m.backofficeUsers.currentSessions > 0 ? 'positive' : 'default' },\r\n    ];\r\n\r\n    return html`\r\n      <umbmetrics-metrics-grid columns=\"4\">\r\n        <umbmetrics-stat-card\r\n          span=\"2\"\r\n          icon=\"icon-document\"\r\n          title=\"Content Statistics\"\r\n          .stats=${contentStats}\r\n        ></umbmetrics-stat-card>\r\n\r\n        <umbmetrics-stat-card\r\n          span=\"2\"\r\n          icon=\"icon-picture\"\r\n          title=\"Media Library\"\r\n          .stats=${mediaStats}\r\n        ></umbmetrics-stat-card>\r\n\r\n        <umbmetrics-stat-card\r\n          span=\"2\"\r\n          icon=\"icon-server-alt\"\r\n          title=\"Cache Performance\"\r\n          .stats=${cacheStats}\r\n        ></umbmetrics-stat-card>\r\n\r\n        <umbmetrics-stat-card\r\n          span=\"2\"\r\n          icon=\"icon-users\"\r\n          title=\"Backoffice Users\"\r\n          .stats=${userStats}\r\n        ></umbmetrics-stat-card>\r\n      </umbmetrics-metrics-grid>\r\n    `;\r\n  }\r\n\r\n  #renderUtilsTab() {\r\n    return html`\r\n      <div class=\"utils-tab\">\r\n        <h3>${this.localize?.term('dashboard_utilityTools') || 'Utility Tools'}</h3>\r\n        <p class=\"description\">${this.localize?.term('dashboard_utilityToolsDescription') || 'Additional tools for managing and exporting metrics data'}</p>\r\n        \r\n        <div class=\"utils-grid\">\r\n          <div class=\"util-card\">\r\n            <div class=\"util-icon\">\r\n              <uui-icon name=\"icon-download\"></uui-icon>\r\n            </div>\r\n            <div class=\"util-content\">\r\n              <h4>${this.localize?.term('dashboard_exportMetricsCard') || 'Export Metrics'}</h4>\r\n              <p>${this.localize?.term('dashboard_exportMetricsDescription') || 'Export performance and Umbraco metrics in various formats (CSV, JSON)'}</p>\r\n              <uui-button \r\n                look=\"primary\" \r\n                color=\"positive\"\r\n                @click=\"${this.#openExportModal}\"\r\n                style=\"margin-top: 1rem;\"\r\n              >\r\n                <uui-icon name=\"icon-download\"></uui-icon>\r\n                ${this.localize?.term('dashboard_openExportDialog') || 'Open Export Dialog'}\r\n              </uui-button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"util-card\">\r\n            <div class=\"util-icon\">\r\n              <uui-icon name=\"icon-settings\"></uui-icon>\r\n            </div>\r\n            <div class=\"util-content\">\r\n              <h4>${this.localize?.term('dashboard_dataManagement') || 'Data Management'}</h4>\r\n              <p>${this.localize?.term('dashboard_dataManagementDescription') || 'Manage historical metrics data and cleanup options'}</p>\r\n              <uui-button \r\n                look=\"outline\"\r\n                style=\"margin-top: 1rem;\"\r\n                disabled\r\n              >\r\n                <uui-icon name=\"icon-trash\"></uui-icon>\r\n                ${this.localize?.term('dashboard_cleanupOldData') || 'Cleanup Old Data'}\r\n              </uui-button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"util-card\">\r\n            <div class=\"util-icon\">\r\n              <uui-icon name=\"icon-chart\"></uui-icon>\r\n            </div>\r\n            <div class=\"util-content\">\r\n              <h4>${this.localize?.term('dashboard_advancedAnalytics') || 'Advanced Analytics'}</h4>\r\n              <p>${this.localize?.term('dashboard_advancedAnalyticsDescription') || 'Generate detailed reports and analytics from collected metrics'}</p>\r\n              <uui-button \r\n                look=\"outline\"\r\n                style=\"margin-top: 1rem;\"\r\n                disabled\r\n              >\r\n                <uui-icon name=\"icon-chart\"></uui-icon>\r\n                ${this.localize?.term('dashboard_generateReport') || 'Generate Report'}\r\n              </uui-button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"util-card\">\r\n            <div class=\"util-icon\">\r\n              <uui-icon name=\"icon-alarm-clock\"></uui-icon>\r\n            </div>\r\n            <div class=\"util-content\">\r\n              <h4>${this.localize?.term('dashboard_scheduledTasks') || 'Scheduled Tasks'}</h4>\r\n              <p>${this.localize?.term('dashboard_scheduledTasksDescription') || 'Schedule automatic exports and data collection tasks'}</p>\r\n              <uui-button \r\n                look=\"outline\"\r\n                style=\"margin-top: 1rem;\"\r\n                disabled\r\n              >\r\n                <uui-icon name=\"icon-time\"></uui-icon>\r\n                ${this.localize?.term('dashboard_scheduleExport') || 'Schedule Export'}\r\n              </uui-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  #renderTabContent() {\r\n    switch (this._activeTab) {\r\n      case 'overview':\r\n        return this.#renderOverviewTab();\r\n      case 'heap':\r\n        return this.#renderHeapTab();\r\n      case 'umbraco':\r\n        return this.#renderUmbracoTab();\r\n      case 'utils':\r\n        return this.#renderUtilsTab();\r\n      default:\r\n        return this.#renderOverviewTab();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      <uui-box headline=\"${this.localize?.term('dashboard_applicationPerformanceMetrics') || 'Application Performance Metrics'}\" class=\"wide\">\r\n        <div slot=\"header\">[${this.localize?.term('dashboard_dotnetApplication') || '.NET Application'} - ${this.localize?.term('dashboard_realTimeMetrics') || 'Real-time Metrics'}${this._contextCurrentUser?.name ? ` - ${this._contextCurrentUser.name}` : ''}]</div>\r\n\r\n        <div class=\"metrics-controls\">\r\n          <uui-button color=\"default\" look=\"primary\" @click=\"${this.#onClickRefreshMetrics}\">\r\n            <uui-icon name=\"icon-refresh\"></uui-icon> ${this.localize?.term('dashboard_refreshMetrics') || 'Refresh Metrics'}\r\n          </uui-button>\r\n\r\n          <uui-toggle\r\n            label=\"${this.localize?.term('dashboard_realTimeUpdates') || 'Real-time Updates (SignalR)'}\"\r\n            .checked=\"${this._autoRefresh}\"\r\n            @change=\"${this.#toggleAutoRefresh}\"\r\n          ></uui-toggle>\r\n\r\n          ${this._isConnected ? html`\r\n            <span class=\"connection-status connected\">\r\n              <uui-icon name=\"icon-check\"></uui-icon> ${this.localize?.term('dashboard_connected') || 'Connected'}\r\n            </span>\r\n          ` : this._autoRefresh ? html`\r\n            <span class=\"connection-status connecting\">\r\n              <uui-icon name=\"icon-time\"></uui-icon> ${this.localize?.term('dashboard_connecting') || 'Connecting...'}\r\n            </span>\r\n          ` : ''}\r\n        </div>\r\n\r\n        <div class=\"tab-navigation\">\r\n          <uui-button \r\n            look=\"${this._activeTab === 'overview' ? 'primary' : 'default'}\"\r\n            color=\"${this._activeTab === 'overview' ? 'positive' : 'default'}\"\r\n            @click=\"${() => this.#switchTab('overview')}\"\r\n          >\r\n            <uui-icon name=\"icon-chart\"></uui-icon> ${this.localize?.term('dashboard_overview') || 'Overview'}\r\n          </uui-button>\r\n          <uui-button \r\n            look=\"${this._activeTab === 'heap' ? 'primary' : 'default'}\"\r\n            color=\"${this._activeTab === 'heap' ? 'positive' : 'default'}\"\r\n            @click=\"${() => this.#switchTab('heap')}\"\r\n          >\r\n            <uui-icon name=\"icon-box\"></uui-icon> ${this.localize?.term('dashboard_heapAndGC') || 'Heap & GC'}\r\n          </uui-button>\r\n          <uui-button \r\n            look=\"${this._activeTab === 'umbraco' ? 'primary' : 'default'}\"\r\n            color=\"${this._activeTab === 'umbraco' ? 'positive' : 'default'}\"\r\n            @click=\"${() => this.#switchTab('umbraco')}\"\r\n          >\r\n            <uui-icon name=\"icon-umbraco\"></uui-icon> ${this.localize?.term('dashboard_umbracoMetrics') || 'Umbraco Metrics'}\r\n          </uui-button>\r\n          <uui-button \r\n            look=\"${this._activeTab === 'utils' ? 'primary' : 'default'}\"\r\n            color=\"${this._activeTab === 'utils' ? 'positive' : 'default'}\"\r\n            @click=\"${() => this.#switchTab('utils')}\"\r\n          >\r\n            <uui-icon name=\"icon-settings\"></uui-icon> ${this.localize?.term('dashboard_utils') || 'Utils'}\r\n          </uui-button>\r\n        </div>\r\n\r\n        <div class=\"tab-content\">\r\n          ${this.#renderTabContent()}\r\n        </div>\r\n      </uui-box>\r\n          `;\r\n  }\r\n\r\n  static styles = css`${unsafeCSS(stylesString)}`;\r\n}\r\n\r\nexport default UmbMetrcisDashboardElement;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"umbmetrics-dashboard\": UmbMetrcisDashboardElement;\r\n  }\r\n}\r\n"],"names":["getStatusColor","value","threshold","formatNumber","num","formatUptime","seconds","days","hours","minutes","secs","AppInfoBannerElement","UmbElementMixin","LitElement","html","css","unsafeCSS","styles","__decorateClass","property","customElement","_handleClick","MetricCardElement","__privateAdd","__privateGet","stylesString","MetricsGridElement","StatCardElement","stat","_notificationContext","_authContext","_metricsService","_unsubscribe","_onClickRefreshMetrics","_loadPerformanceMetrics","_UmbMetrcisDashboardElement_instances","loadUmbracoMetrics_fn","_openActiveRequestsSidebar","_openExportModal","_toggleAutoRefresh","_startAutoRefresh","_stopAutoRefresh","_switchTab","renderOverviewTab_fn","renderHeapTab_fn","renderUmbracoTab_fn","renderUtilsTab_fn","renderTabContent_fn","UmbMetrcisDashboardElement","ev","buttonElement","__privateMethod","error","UMB_MODAL_MANAGER_CONTEXT","ACTIVE_REQUESTS_SIDEBAR_MODAL","UMB_METRICS_EXPORT_MODAL","__privateSet","metrics","tabName","UMB_NOTIFICATION_CONTEXT","notificationContext","UMB_CURRENT_USER_CONTEXT","currentUserContext","currentUser","UMB_AUTH_CONTEXT","authContext","MetricsPerformanceService","token","m","heapStats","collectionStats","gcDetails","contentStats","mediaStats","cacheStats","userStats","state","UmbMetrcisDashboardElement_default"],"mappings":"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"}